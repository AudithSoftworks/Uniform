(function(e,l){function j(a,b){for(var c in b)b.hasOwnProperty(c)&&(c.replace(/ |$/g,".uniform"),a.bind(c,b[c]))}function m(a,b,c){a=a.val();""===a?a=c.fileDefaultText:(a=a.split(/[\/\\]+/),a=a[a.length-1]);b.text(a)}function k(a,b){a.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass)}function h(a,b,c){b.is(":checked")?b.attr("checked","checked"):b.removeAttr("checked");c=c.checkedClass;b.is(":checked")?a.addClass(c):a.removeClass(c)}function i(a,b,c){c=c.disabledClass;b.is(":disabled")?
a.addClass(c):a.removeClass(c)}e.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0,selectAutoWidth:!1,submitDefaultText:"Submit",resetDefaultText:"Reset"},
elements:[]};var n=!0,o=[{match:function(a){return a.is("button, :submit, :reset, a, input[type='button']")},apply:function(a,b){var c=e("<div>"),d=e("<span>"),f;c.addClass(b.buttonClass);b.useID&&a.attr("id")&&c.attr("id",b.idPrefix+"-"+a.attr("id"));a.is("a, button")?f=a.text():a.is(":submit, :reset, input[type=button]")&&(f=a.attr("value"));f=f||(a.is(":reset")?b.resetDefaultText:b.submitDefaultText);d.text(f);a.css("display","none").wrap(c).wrap(d);c=a.closest("div");i(c,a,b);j(c,{mouseenter:function(){c.addClass(b.hoverClass)},
mouseleave:function(){c.removeClass(b.hoverClass);c.removeClass(b.activeClass)},"mousedown touchbegin":function(){c.addClass(b.activeClass)},"mouseup touchend":function(){c.removeClass(b.activeClass)},"click touchend":function(b){e(b.target).is("span, div")&&(a[0].dispatchEvent?(b=document.createEvent("MouseEvents"),b.initEvent("click",!0,!0),a[0].dispatchEvent(b)):a.click())}});j(a,{focus:function(){c.addClass(b.focusClass)},blur:function(){c.removeClass(b.focusClass)}});e.uniform.noSelect(c);return a},
remove:function(a){return a.unwrap().unwrap()},update:function(a,b){var c=a.closest("div");k(c,b);i(c,a,b);return a}},{match:function(a){return a.is(":checkbox")},apply:function(a,b){var c=e("<div />"),d=e("<span />");"none"===a.css("display")&&b.autoHide&&c.hide();c.addClass(b.checkboxClass);b.useID&&a.attr("id")&&c.attr("id",b.idPrefix+"-"+a.attr("id"));a.wrap(c);a.wrap(d);d=a.parent();c=d.parent();a.css("opacity",0);j(a,{focus:function(){c.addClass(b.focusClass)},blur:function(){c.removeClass(b.focusClass)},
"click touchend":function(){h(d,a,b)},"mousedown touchbegin":function(){c.addClass(b.activeClass)},"mouseup touchend":function(){c.removeClass(b.activeClass)},mouseenter:function(){c.addClass(b.hoverClass)},mouseleave:function(){c.removeClass(b.hoverClass);c.removeClass(b.activeClass)}});h(d,a,b);i(c,a,b);return a},remove:function(a){return a.unwrap().unwrap()},update:function(a,b){var c,d;c=a.closest("span");d=a.closest("div");k(d,b);c.removeClass(b.checkedClass);h(c,a,b);i(d,b)}},{match:function(a){return a.is(":file")},
apply:function(a,b){function c(){m(a,f,b)}var d=e("<div />"),f=e("<span />").text(b.fileDefaultText),g=e("<span />").text(b.fileBtnText);"none"===a.css("display")&&b.autoHide&&d.hide();d.addClass(b.fileClass);f.addClass(b.filenameClass);g.addClass(b.fileBtnClass);b.useID&&a.attr("id")&&d.attr("id",b.idPrefix+"-"+a.attr("id"));a.wrap(d);a.after(g);a.after(f);d=a.closest("div");f=a.siblings("."+b.filenameClass);g=a.siblings("."+b.fileBtnClass);a.attr("size")||a.attr("size",d.width()/10);c();a.css("opacity",
0);j(a,{focus:function(){d.addClass(b.focusClass)},blur:function(){d.removeClass(b.focusClass)},mousedown:function(){a.is(":disabled")||d.addClass(b.activeClass)},mouseup:function(){d.removeClass(b.activeClass)},mouseenter:function(){d.addClass(b.hoverClass)},mouseleave:function(){d.removeClass(b.hoverClass);d.removeClass(b.activeClass)}});e.browser.msie?j(a,{click:function(){setTimeout(c,0)}}):j(a,{change:c});i(d,a,b);e.uniform.noSelect(f);e.uniform.noSelect(g);return a},remove:function(a){a.siblings("span").remove();
a.unwrap();return a},update:function(a,b){var c,d;c=a.parent("div");d=a.siblings("."+b.filenameClass);a.siblings("."+b.fileBtnClass);k(c,b);m(a,d,b);i(c,a,b)}},{match:function(a){return a.is(":text, :password, input[type='email'], input[type='search'], input[type='tel'], input[type='url'], input[type='datetime'], input[type='date'], input[type='month'], input[type='week'], input[type='time'], input[type='datetime-local'], input[type='number'], input[type='color']")},apply:function(a){a.addClass(a.attr("type"));
return a},remove:function(){},update:function(){}},{match:function(a){return a.is(":radio")},apply:function(a,b){var c=e("<div />"),d=e("<span />");"none"===a.css("display")&&b.autoHide&&c.hide();c.addClass(b.radioClass);b.useID&&a.attr("id")&&c.attr("id",b.idPrefix+"-"+a.attr("id"));a.wrap(c);a.wrap(d);d=a.parent();c=d.parent();a.css("opacity",0);j(a,{focus:function(){c.addClass(b.focusClass)},blur:function(){c.removeClass(b.focusClass)},"click touchend":function(){var c="."+b.radioClass.split(" ")[0]+
" span."+b.checkedClass+":has([name='"+a.attr("name")+"'])";e(c).each(function(){var a=e(this),c=a.find(":radio");h(a,c,b)});h(d,a,b)},"mousedown touchend":function(){a.is(":disabled")||c.addClass(b.activeClass)},"mouseup touchbegin":function(){c.removeClass(b.activeClass)},"mouseenter touchend":function(){c.addClass(b.hoverClass)},mouseleave:function(){c.removeClass(b.hoverClass);c.removeClass(b.activeClass)}});h(d,a,b);i(c,a,b);return a},remove:function(a){return a.unwrap().unwrap()},update:function(a,
b){var c,d;c=a.closest("span");d=a.closest("div");k(d,b);h(c,a,b);i(d,a,b)}},{match:function(a){return a.is("select")&&!this.multiple&&(a=a.attr("size"),a===l||1>=a)?!0:!1},apply:function(a,b){var c=e("<div />"),d=e("<span />"),f=a.width(),g,h;"none"===a.css("display")&&b.autoHide&&c.hide();c.addClass(b.selectClass);b.selectAutoWidth&&(g=c.width(),h=d.width(),c.width(g-(h-f)+25),a.width(f+32),a.css("left","2px"),d.width(f));b.useID&&a.attr("id")&&c.attr("id",b.idPrefix+"-"+a.attr("id"));g=a.find(":selected:first");
g.length||(g=a.find("option:first"));d.html(g.html());a.css("opacity",0);a.wrap(c);a.before(d);c=a.parent("div");d=a.siblings("span");b.selectAutoWidth&&(g=parseInt(c.css("paddingLeft"),10),d.width(f-g-15),a.width(f+g),a.css("min-width",f+g+"px"),c.width(f+g));j(a,{change:function(){d.html(a.find(":selected").html());c.removeClass(b.activeClass)},focus:function(){c.addClass(b.focusClass)},blur:function(){c.removeClass(b.focusClass);c.removeClass(b.activeClass)},"mousedown touchbegin":function(){c.addClass(b.activeClass)},
"mouseup touchend":function(){c.removeClass(b.activeClass)},"click touchend":function(){c.removeClass(b.activeClass)},mouseenter:function(){c.addClass(b.hoverClass)},mouseleave:function(){c.removeClass(b.hoverClass);c.removeClass(b.activeClass)},keyup:function(){d.html(a.find(":selected").html())}});i(c,a,b);e.uniform.noSelect(d);f=a.width();c.width(f);d.width(f-25);return a},remove:function(a){a.siblings("span").remove();a.unwrap();return a},update:function(a,b){var c,d;c=a.siblings("span");d=a.parent("div");
k(d,b);c.html(a.find(":selected").html());i(d,a,b)}},{match:function(a){return a.is("textarea")},apply:function(a){a.addClass("uniform");return a},remove:function(){},update:function(){}}];e.browser.msie&&7>e.browser.version&&(n=!1);e.fn.uniform=function(a){var b=this,a=e.extend({},e.uniform.options,a);!1!==a.resetSelector&&e(a.resetSelector).mouseup(function(){window.setTimeout(function(){e.uniform.update(b)},10)});return this.each(function(){var b=e(this),d,f;if(!b.data("uniformed")&&n)for(d=0;d<
o.length;d+=1)if(f=o[d],f.match(b,a)){f.apply(b,a);b.data("uniformed",{options:a,remove:f.remove,update:f.update});e.uniform.elements.push(b.get(0));break}})};e.uniform.restore=function(a){a===l&&(a=e.uniform.elements);e(a).each(function(){var a=e(this),c;if(c=a.data("uniformed")){c.remove(a,c.options);a.unbind(".uniform");a.css("opacity","1");c=e.inArray(this,e.uniform.elements);c>=0&&e.uniform.elements.splice(c,1);a.removeData("uniformed")}})};e.uniform.noSelect=function(a){var b=function(){return!1};
e(a).each(function(){this.onselectstart=this.ondragstart=b;e(this).mousedown(b).css({MozUserSelect:"none"})})};e.uniform.update=function(a){a===l&&(a=e.uniform.elements);e(a).each(function(){var a=e(this),c;(c=a.data("uniformed"))&&c.update(a,c.options)})}})(jQuery);
